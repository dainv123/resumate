# Redis Configuration for Rate Limiting & Caching
# Resumate Application

# Network
bind 0.0.0.0
port 6379
timeout 0
tcp-keepalive 300

# Persistence
# Enable AOF (Append Only File) for better durability
appendonly yes
appendfilename "appendonly.aof"
appendfsync everysec

# Disable RDB snapshots (not needed for rate limiting)
save ""

# Memory Management
maxmemory 256mb
maxmemory-policy allkeys-lru

# When maxmemory is reached, evict least recently used keys
# This is perfect for rate limiting where old data naturally expires

# Logging
loglevel notice
logfile ""

# Performance
# Disable slow operations
lazyfree-lazy-eviction yes
lazyfree-lazy-expire yes
lazyfree-lazy-server-del yes
replica-lazy-flush yes

# Security
# Protected mode (disable if using Docker network)
protected-mode no

# Limits
maxclients 10000

# Advanced
# Enable keyspace notifications for monitoring (optional)
notify-keyspace-events ""

